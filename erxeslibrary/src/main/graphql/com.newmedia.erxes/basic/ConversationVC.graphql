
mutation MessengerConnect($brandCode: String!, $email: String, $phone: String,$isUser:Boolean, $data: JSON){
    messengerConnect (brandCode: $brandCode, email: $email, phone: $phone,isUser:$isUser, data: $data){
        integrationId
        uiOptions
        languageCode
        messengerData
        customerId
        brand{
            name
            code
            description
        }
    }
}
mutation InsertMessage($integrationId: String!,$customerId: String!,$message: String,$conversationId: String, $attachments: [AttachmentInput])
{
    insertMessage(integrationId:$integrationId,customerId: $customerId,message: $message,conversationId: $conversationId,attachments: $attachments)
   {
     conversationId,
     createdAt,
     internal,
     id,
     attachments {
         size
         url
         type
         name
       },

   }
 }
 query Conversations($integrationId: String!,$customerId: String!){
   conversations(integrationId: $integrationId,customerId: $customerId) {
         id
         customerId
         integrationId
         status
         content
         createdAt
         messages {
            id
            conversationId
            customerId
            user{
                id
                details{
                    avatar
                    shortName
                    fullName
                }
            }
            content
            createdAt
            internal
            fromBot
            attachments {
                size
                url
                type
                name
            }
         }
   }
 }

query Messages($conversationId: String){
    messages(conversationId: $conversationId) {
        id
        conversationId
        customerId
        content
        createdAt
        internal
        fromBot
        attachments {
            size
            url
            type
            name
        }
        user {
            id
            details {
                avatar
                fullName
            }
        }
    }
}

query ConversationDetail($id: String, $integ : String!){
    conversationDetail(id: $id, integrationId: $integ) {
        isOnline
        supporters{
            id
            details {
                avatar
                fullName
            }
        }
    }
}
query MessengerSupporters($integ : String!) {
    messengerSupporters(integrationId: $integ) {
        id
        details {
            avatar
            shortName
            position
            location
            description
            fullName
        }
    }
}

query GetMessengerIntegration($brandCode: String!){
    getMessengerIntegration(brandCode: $brandCode) {
        id
        name
        languageCode
        uiOptions
        messengerData
    }
}

query FaqGet($topicId: String!){
    knowledgeBaseTopicsDetail(topicId: $topicId) {
        id
        title
        description
        color
        languageCode
        categories{
            id
            numOfArticles
            title
            description
            icon
            articles {
                id
                title
                summary
                content
                createdBy
                createdDate
                modifiedBy
                modifiedDate
            }
        }
    }
}

query getForm($formId: String) {
    form(formId: $formId) {
        id
        title
        description
        buttonText
        themeColor
        callout
        fields {
            id
            formId
            type
            check
            text
            description
            options
            isRequired
            name
            validation
            order
        }
    }
}

mutation formConnect($brandCode: String!, $formCode: String!) {
    formConnect(brandCode: $brandCode, formCode: $formCode) {
        integration {
            id
            name
            formData
        }
        form {
            id
            title
            description
            buttonText
            themeColor
            callout
            fields {
                id
                formId
                type
                check
                text
                description
                options
                isRequired
                name
                validation
                order
            }
        }
    }
}

mutation saveLead($integrationId: String!, $formId: String!, $submissions: [FieldValueInput],$browserInfo: JSON!) {
    saveForm(integrationId: $integrationId, formId: $formId, submissions: $submissions, browserInfo: $browserInfo) {
        status
        errors{
            fieldId
            code
            text
        }
        messageId
    }
}